<div id="content" style="padding: 10px;" ng-controller="DriveConflictsCtl">
	<div class="panel panel-default" ng-show="conflicts.length == 0 && errors.length == 0">
		<div class="panel-heading" translate>NO_CONFLICTS_TITLE</div>
		<div class="panel-body" translate>NO_CONFLICTS_BODY</div>
	</div>
	<div class="panel panel-default" ng-repeat="pair in conflicts">
		<div class="panel-heading">{{ pair.name }}{{ pair.folderish ? '/' : '' }}</div>
		<div class="panel-body">
			<span style="color: #999; margin-bottom: 10px;cursor: pointer;" ng-click="open_local(pair.local_parent_path)" translate translate-values="{ path:'{{ pair.local_parent_path }}'}">FILE_PATH</span><br />
			<span style="color: #999; margin-bottom: 10px;" translate translate-values="{ contributor:'{{ pair.last_contributor }}'}">LAST_CONTRIBUTOR</span><br />
			<span style="color: #999; margin-bottom: 10px;" translate translate-values="{ date:'{{ pair.last_sync_date ? pair.last_sync_date : pair.last_remote_update }}'}">LAST_SYNCHRONIZED</span><br />
  			<div class="btn-group" role="group" aria-label="...">
 				<button type="button" ng-click="open_local(pair.local_path)" class="btn btn-default">
					<img src="imgs/file.png" class="icon"/>&nbsp;<span translate>OPEN_LOCAL</span>
				</button>
				<button ng-hide="pair.folderish" type="button" ng-click="open_remote(pair.remote_ref, pair.remote_name)" class="btn btn-default">
					<img src="imgs/globe.png" class="icon"/>&nbsp;<span translate>OPEN_REMOTE</span>
				</button>
  			</div>

  			<div class="pull-right btn-group">
				<button type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
					<span translate>RESOLVE</span>
					<span class="caret"></span>
				</button>

				<ul class="dropdown-menu" role="menu">
					<li ng-show="pair.remote_can_update || (pair.folderish && pair.remote_can_rename)">
						<a href="#" ng-click="resolve_with_local(pair.id)">
							<img src="imgs/file.png" class="icon icon-notif"/>&nbsp;<span translate>CONFLICT_USE_LOCAL</span>
						</a>
					</li>
					<li ng-show="pair.remote_can_update || (pair.folderish && pair.remote_can_rename)" class="divider"></li>

					<li>
						<a href="#" ng-click="resolve_with_remote(pair.id)">
							<img src="imgs/globe.png" class="icon"/>&nbsp;<span translate>CONFLICT_USE_REMOTE</span>
						</a>
					</li>
				</ul>
  			</div>
  		</div>
	</div>
	<div class="panel panel-default" ng-repeat="pair in errors">
		<div class="panel-heading">{{ pair.name }}{{ pair.folderish ? '/' : '' }}</div>
		<div class="panel-body">{{ pair.error_reason | translate }}</div>
		<div class="panel-body" ng-show="pair.details" style="font-family:monospace;font-size:.9em;">
			<span translate>TECHNICAL_DETAILS</span><br>{{ pair.details }}
		</div>
		<div class="panel-body">
			<span style="color: #999; margin-bottom: 10px;cursor: pointer;" ng-click="open_local(pair.local_parent_path)" translate translate-values="{ path:'{{ pair.local_parent_path }}'}">FILE_PATH</span><br />
			<span style="color: #999; margin-bottom: 10px;" translate translate-values="{ contributor:'{{ pair.last_contributor }}'}">LAST_CONTRIBUTOR</span><br />
			<span style="color: #999; margin-bottom: 10px;" translate translate-values="{ date:'{{ pair.last_sync_date ? pair.last_sync_date : pair.last_remote_update }}'}">LAST_SYNCHRONIZED</span>
			<div class="pull-right btn-group">
				<button type="button" class="btn btn-danger" ng-click="retry_pair(pair.id)" translate>CONFLICT_RETRY</button>
				<button type="button" style="height: 34px;" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
					<span class="caret"></span>
					<span class="sr-only">Toggle dropdown</span>
				</button>
				<ul class="dropdown-menu" role="menu">
					<li>
						<a href="#" ng-click="unsynchronize_pair(pair.id, pair.last_error)">
							<img src="imgs/eye-close.png" class="icon"/>&nbsp;<span translate>IGNORE_PAIR</span>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div>
		<hr />
		<h4>Ignored files</h4>
		<div class="panel panel-default" ng-repeat="pair in ignoreds">
			<div class="panel-heading">{{ pair.name }}{{ pair.folderish ? '/' : '' }}</div>
			<div class="panel-body">
				{{ pair.ignore_reason | translate }}<br />
				<span style="color: #999; margin-bottom: 10px;cursor: pointer;" ng-click="open_local(pair.local_parent_path)" translate translate-values="{ path:'{{ pair.local_parent_path }}'}">FILE_PATH</span><br />
			</div>
		</div>
	</div>
</div>
