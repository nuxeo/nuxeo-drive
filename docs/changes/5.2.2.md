# 5.2.2

Release date: `2021-0x-xx`

## Core

- [NXDRIVE-2548](https://jira.nuxeo.com/browse/NXDRIVE-2548): Databases refactoring
- [NXDRIVE-2654](https://jira.nuxeo.com/browse/NXDRIVE-2654): Remove the `execution.profile` custom metric
- [NXDRIVE-2656](https://jira.nuxeo.com/browse/NXDRIVE-2656): Improve crash file handling
- [NXDRIVE-2657](https://jira.nuxeo.com/browse/NXDRIVE-2657): Fix database `is_healthy()` check to ensure to close the connection
- [NXDRIVE-2659](https://jira.nuxeo.com/browse/NXDRIVE-2659): [macOS] Handle unsupported command `nxdrive://trigger-watch` in protocol handler
- [NXDRIVE-2661](https://jira.nuxeo.com/browse/NXDRIVE-2661): Set a higher logging level for `Options` changes

### Direct Edit

- [NXDRIVE-2658](https://jira.nuxeo.com/browse/NXDRIVE-2658): Handle invalid data returned by the server when retrieving file infos

### Direct Transfer

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## GUI

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Packaging / Build

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Tests

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Docs

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Minor Changes

- Upgraded `pefile` from 2021.5.13 to 2021.5.24
- Upgraded `urllib3` from 1.26.4 to 1.26.5

## Technical Changes

- Removed `Options.exec_profile`
- Removed metrics/constants.py::`EXEC_PROFILE`
- Added engine/dao/adapters.py
- Moved engine/dao/sqlite.py::`register_adapter` to engine/dao/\_\_init\_\_.py::`register_adapter`
- Moved engine/dao/sqlite.py::`SCHEMA_VERSION` to engine/dao/\_\_init\_\_.py::`SCHEMA_VERSION`
- Moved engine/dao/sqlite.py::`EngineDAO` to engine/dao/engine.py::`EngineDAO`
- Moved engine/dao/sqlite.py::`ManagerDAO` to engine/dao/manager.py::`ManagerDAO`
- Renamed engine/dao/sqlite.py to engine/dao/base.py
- Renamed engine/dao/base.py::`ConfigurationDAO` to engine/dao/base.py::`BaseDAO`
