# 4.2.0

Release date: `2019-xx-xx`

## Core

- [NXDRIVE-1491](https://jira.nuxeo.com/browse/NXDRIVE-1491): Do not use bare exceptions
- [NXDRIVE-1783](https://jira.nuxeo.com/browse/NXDRIVE-1783): Handle account addition with already used local folder
- [NXDRIVE-1784](https://jira.nuxeo.com/browse/NXDRIVE-1784): Remove unused objects and add CI/QA checks
- [NXDRIVE-1812](https://jira.nuxeo.com/browse/NXDRIVE-1812): Add a new option to quit the application after the sync is over
- [NXDRIVE-1813](https://jira.nuxeo.com/browse/NXDRIVE-1813): Ignore engines that cannot be initalized
- [NXDRIVE-1814](https://jira.nuxeo.com/browse/NXDRIVE-1814): Gracefully exit the application on CTRL+C

## GUI

- [NXDRIVE-1749](https://jira.nuxeo.com/browse/NXDRIVE-1749): [GNU/Linux] Systray menu is not at the good location
- [NXDRIVE-1782](https://jira.nuxeo.com/browse/NXDRIVE-1782): Provide information on transfer speed
- [NXDRIVE-1806](https://jira.nuxeo.com/browse/NXDRIVE-1806): Fix transfered files list refreshing in the systray

## Packaging / Build

- [NXDRIVE-1755](https://jira.nuxeo.com/browse/NXDRIVE-1755): [GNU/Linux] Check AppImage requirements
- [NXDRIVE-1757](https://jira.nuxeo.com/browse/NXDRIVE-1757): Set module hashes in requirements files

## Tests

- [NXDRIVE-1706](https://jira.nuxeo.com/browse/NXDRIVE-1706): Expand `utils.py` tests coverage
- [NXDRIVE-1741](https://jira.nuxeo.com/browse/NXDRIVE-1741): [Windows] Add CLI sub-commands tests: `bind-root` and `unbind-root`

## Doc

- [NXDRIVE-1761](https://jira.nuxeo.com/browse/NXDRIVE-1761): Document the team workflow

## Minor Changes

- Packaging: Added `altgraph` 0.16.1
- Packaging: Added `certifi` 2019.6.16
- Packaging: Added `cffi` 1.12.3
- Packaging: Added `chardet` 3.0.4
- Packaging: Added `dukpy` 0.2.2
- Packaging: Added `future` 0.17.1
- Packaging: Added `idna` 2.8
- Packaging: Added `macholib` 0.11
- Packaging: Added `pefile` 2019.4.18
- Packaging: Added `pycparser` 2.19
- Packaging: Added `pyobjc-core` 4.2.2
- Packaging: Added `pyobjc-framework-FSEvents` 4.2.2
- Packaging: Added `pyobjc-framework-SystemConfiguration` 4.2.2
- Packaging: Added `pyyaml` 5.1.2
- Packaging: Added `pywin32` 224
- Packaging: Added `six` 1.12.0
- Packaging: Added `tld` 0.9.3
- Packaging: Removed `appdirs`
- Packaging: Removed `pypiwin32`
- Packaging: Updated `nuxeo` to 2.2.2
- Packaging: Updated `sentry-sdk` from 0.10.2 to 0.11.1

## Technical Changes

- Removed `AbstractOSIntegration.zoom_factor`
- Removed `Action.get_last_file_action()`
- Removed `Action.lastFileActions`
- Removed `BaseUpdater.force_status()`
- Added `FileAction.chunk_size`
- Added `FileAction.chunk_transfer_end_time_ns`
- Added `FileAction.chunk_transfer_start_time_ns`
- Added `FileAction.last_chunk_transfer_speed`
- Removed `FileAction.end_time`
- Removed `FileAction.start_time`
- Removed `FileAction.transfer_duration`
- Removed `Notification.get_replacements()`
- Added `Options.sync_and_quit`
- Added `PidLockFile.pid_filepath`
- Removed `PidLockFile.folder`
- Removed `process_name` keyword argument from `PidLockFile.check_running()`
- Removed `QMLDriveApi.set_language()`
- Removed `direction` keyword argument from `QMLDriveApi.get_last_files()`
- Removed `duration` keyword argument from `QMLDriveApi.get_last_files()`
- Removed `QMLDriveApi.get_actions()`
- Removed `QMLDriveApi.get_errors_count()`
- Removed `QMLDriveApi.get_conflicts_count()`
- Removed `QMLDriveApi.get_update_progress()`
- Added `Remote.transfer_end_callback()`
- Added `Remote.transfer_start_callback()`
- Changed return type of `Remote.upload_chunks()` from `Tuple[FileBlob, int]` to `FileBlob`
- Removed `Remote.kwargs`
- Removed `duration` argument from `Remote.link_blob_to_doc()`
- Removed `Tracker.connect_engine()`
- Removed `TransferStatus.CANCELLED`
- Removed `Translator.translations()`
- Removed `WindowsIntegration.zoom_factor`
- Added exceptions.py::`EngineInitError`
- Added poll_worker.py::`SyncAndQuitWorker`
- Added utils.py::`DEFAULTS_CERT_DETAILS`
- Added `cls` keyword argument to utils.py::`normalized_path()`
- Removed utils.py::`WIN32_PATCHED_MIME_TYPES`
