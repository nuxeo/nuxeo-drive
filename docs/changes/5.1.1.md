# 5.1.1

Release date: `2021-xx-xx`

## Core

- [NXDRIVE-2443](https://jira.nuxeo.com/browse/NXDRIVE-2443): Bypass all OS errors in `disk_space()`
- [NXDRIVE-2463](https://jira.nuxeo.com/browse/NXDRIVE-2463): Add support for idempotent requests
- [NXDRIVE-2558](https://jira.nuxeo.com/browse/NXDRIVE-2558): Add a custom metric for hard crashes
- [NXDRIVE-2574](https://jira.nuxeo.com/browse/NXDRIVE-2574): Handle pair state deleted-moved as a remotely created
- [NXDRIVE-2575](https://jira.nuxeo.com/browse/NXDRIVE-2575): Fix error message when `get_metadata_infos()` would likely fail
- [NXDRIVE-2587](https://jira.nuxeo.com/browse/NXDRIVE-2587): Skip conflict resolution on non-standard digest
- [NXDRIVE-2588](https://jira.nuxeo.com/browse/NXDRIVE-2588): Handle `parent_remotely_deleted` state in the local watcher
- [NXDRIVE-2589](https://jira.nuxeo.com/browse/NXDRIVE-2589): Lower logging level of installer integrity check failure
- [NXDRIVE-2590](https://jira.nuxeo.com/browse/NXDRIVE-2590): Restart upload on still outdated refreshed AWS credentials

### Direct Edit

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

### Direct Transfer

- [NXDRIVE-2427](https://jira.nuxeo.com/browse/NXDRIVE-2427): Make the end of session notification clickable
- [NXDRIVE-2572](https://jira.nuxeo.com/browse/NXDRIVE-2572): Use `AddChildren` permission instead of `ReadWrite` for entitlement of places where one can upload into

## GUI

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Packaging / Build

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Tests

- [NXDRIVE-2333](https://jira.nuxeo.com/browse/NXDRIVE-2333): Functional tests should be retried with only one process
- [NXDRIVE-2334](https://jira.nuxeo.com/browse/NXDRIVE-2334): Update the translation check script to verify only missing arguments

## Docs

- [NXDRIVE-2](https://jira.nuxeo.com/browse/NXDRIVE-2):

## Minor Changes

- Upgraded `docutils` from 0.16 to 0.17
- Upgraded `s3transfer` from 0.3.4 to 0.3.6
- Upgraded `urllib3` from 1.26.3 to 1.26.4

## Technical Changes

- Added `engine_uid` argument to `DirectTransferSessionFinished.__init__()`
- Added `remote_ref` argument to `DirectTransferSessionFinished.__init__()`
- Changed the arguments types from `Engine.directTransferSessionFinished` signal to `(str, str, str)`
- Added `Notification.action_args`
- Changed the arguments types from `NotificationService.triggerNotification ` signal to `(str, object)`
- Added `Options.use_idempotent_requests`
- Added `State.crash_details`
- Added `Uploads.request_uid`
- Added metrics/constants.py::`CRASHED_TRACE`
- Added updater/\_\_init\_\_.py::`UpdateIntegrityError`
