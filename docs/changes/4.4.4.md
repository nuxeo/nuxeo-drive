# 4.4.4

Release date: `2020-xx-xx`

## Core

- [NXDRIVE-1848](https://jira.nuxeo.com/browse/NXDRIVE-1848): Remove dependency on `rfc3987` for URL parsing
- [NXDRIVE-2121](https://jira.nuxeo.com/browse/NXDRIVE-2121): Lower logging level of "Icon folder cannot be set"
- [NXDRIVE-2133](https://jira.nuxeo.com/browse/NXDRIVE-2133): [macOS] Skip errors on file creation time modification
- [NXDRIVE-2139](https://jira.nuxeo.com/browse/NXDRIVE-2139): Make the custom user agent effective
- [NXDRIVE-2160](https://jira.nuxeo.com/browse/NXDRIVE-2160): Lower logging level of "Error while stopping FinderSync"
- [NXDRIVE-2162](https://jira.nuxeo.com/browse/NXDRIVE-2162): Enforce disk space retrieval robustness
- [NXDRIVE-2170](https://jira.nuxeo.com/browse/NXDRIVE-2170): Fix new errors found by codespell 1.17.0
- [NXDRIVE-2174](https://jira.nuxeo.com/browse/NXDRIVE-2174): Use versions check functions from the Python client
- [NXDRIVE-2183](https://jira.nuxeo.com/browse/NXDRIVE-2183): Fix chunked upload using an obsolete batch ID in certain circumstances
- [NXDRIVE-2184](https://jira.nuxeo.com/browse/NXDRIVE-2184): Fix mypy issues following the update to mypy 0.780
- [NXDRIVE-2185](https://jira.nuxeo.com/browse/NXDRIVE-2185): Be more specific on HTTP error handling when fetching the batch ID associated to an upload
- [NXDRIVE-2187](https://jira.nuxeo.com/browse/NXDRIVE-2187): New language: Basque (eu)
- [NXDRIVE-2188](https://jira.nuxeo.com/browse/NXDRIVE-2188): Remove the Hebrew language
- [NXDRIVE-2190](https://jira.nuxeo.com/browse/NXDRIVE-2190): Refactored Remote client uploads
- [NXDRIVE-2191](https://jira.nuxeo.com/browse/NXDRIVE-2191): Introduced the `State` object

### Direct Edit

- [NXDRIVE-1786](https://jira.nuxeo.com/browse/NXDRIVE-1786): Handle corrupted downloads
- [NXDRIVE-2112](https://jira.nuxeo.com/browse/NXDRIVE-2112): Always start a fresh download
- [NXDRIVE-2113](https://jira.nuxeo.com/browse/NXDRIVE-2113): Add a warning on upload when server-side lock is disabled
- [NXDRIVE-2116](https://jira.nuxeo.com/browse/NXDRIVE-2116): Requests `Invalid byte range` multiple of total binary size
- [NXDRIVE-2124](https://jira.nuxeo.com/browse/NXDRIVE-2124): Uniformize the name: "Direct Edit"
- [NXDRIVE-2129](https://jira.nuxeo.com/browse/NXDRIVE-2129): Orphaned documents should first be remotely unlocked before being cleaned up
- [NXDRIVE-2131](https://jira.nuxeo.com/browse/NXDRIVE-2131): Handle HTTP 413 error: Request Entity Too Large
- [NXDRIVE-2132](https://jira.nuxeo.com/browse/NXDRIVE-2132): Do not allow Direct Edit on proxies
- [NXDRIVE-2155](https://jira.nuxeo.com/browse/NXDRIVE-2155): Improvements on the main popup
- [NXDRIVE-2158](https://jira.nuxeo.com/browse/NXDRIVE-2158): Review the warning message on conflict popup

### Direct Transfer

- [NXDRIVE-2065](https://jira.nuxeo.com/browse/NXDRIVE-2065): Leverage the `FileManager`

## GUI

- [NXDRIVE-2138](https://jira.nuxeo.com/browse/NXDRIVE-2138): Add settings for features
- [NXDRIVE-2150](https://jira.nuxeo.com/browse/NXDRIVE-2150): Change the disk space usage border color

## Packaging / Build

- [NXDRIVE-2016](https://jira.nuxeo.com/browse/NXDRIVE-2016): Upgrade Python from 3.7.4 to 3.7.7
- [NXDRIVE-2146](https://jira.nuxeo.com/browse/NXDRIVE-2146): Do not package `Qt5RemoteObjects` DLL and shared library
- [NXDRIVE-2175](https://jira.nuxeo.com/browse/NXDRIVE-2175): Move Crowdin synchronization to GitHub Actions
- [NXDRIVE-2203](https://jira.nuxeo.com/browse/NXDRIVE-2203): Use Python 3 in release scripts
- [NXDRIVE-2204](https://jira.nuxeo.com/browse/NXDRIVE-2204): Add notifications when release jobs fail

## Tests

- [NXDRIVE-2127](https://jira.nuxeo.com/browse/NXDRIVE-2127): Fixes for functional tests using tox
- [NXDRIVE-2171](https://jira.nuxeo.com/browse/NXDRIVE-2171): Use `pip-sync` to keep test environments up-to-date
- [NXDRIVE-2177](https://jira.nuxeo.com/browse/NXDRIVE-2177): Review the logging format in tests
- [NXDRIVE-2179](https://jira.nuxeo.com/browse/NXDRIVE-2179): Enable back failed test reports
- [NXDRIVE-2189](https://jira.nuxeo.com/browse/NXDRIVE-2189): Move non-Python test files to specific folders
- [NXDRIVE-2199](https://jira.nuxeo.com/browse/NXDRIVE-2199): Use the FileManager importer in tests
- [NXDRIVE-2200](https://jira.nuxeo.com/browse/NXDRIVE-2200): Fix tests from `test_special_characters.py`
- [NXDRIVE-2201](https://jira.nuxeo.com/browse/NXDRIVE-2201): Move the NXDRIVE-1033 test in its own test file
- [NXDRIVE-2202](https://jira.nuxeo.com/browse/NXDRIVE-2202): Move the NXDRIVE-947 test in its own test file
- [NXDRIVE-2211](https://jira.nuxeo.com/browse/NXDRIVE-2211): Use `DOCTYPE_FOLDERISH` for creating the workspace in tests

## Docs

- [NXDRIVE-2130](https://jira.nuxeo.com/browse/NXDRIVE-2130): Add Direct Edit and Direct Transfer sections in the changelog

## Minor Changes

- Added `importlib-metadata` 1.6.1
- Added `wheel` 0.34.2
- Added `pip-tools` 5.2.1
- Added `zipp` 3.1.0
- Upgraded `boto3` from 1.12.19 to 1.14.0
- Upgraded `botocore` from 1.15.19 to 1.17.0
- Upgraded `certifi` from 2019.11.28 to 2020.6.20
- Upgraded `jmespath` from 0.9.5 to 0.10.0
- Upgraded `markdown` from 3.2.1 to 3.2.2
- Upgraded `nuxeo` commit-764c064 to commit-dc0eb55
- Upgraded `pip` from 20.0.2 to 20.1.1
- Upgraded `pycryptodomex` from 3.9.7 to 3.9.8
- Upgraded `pyobjc-core` from 6.1 to 6.2.1
- Upgraded `pyobjc-framework-Cocoa` from 6.1 to 6.2.1
- Upgraded `pyobjc-framework-CoreServices` from 6.1 to 6.2.1
- Upgraded `pyobjc-framework-FSEvents` from 6.1 to 6.2.1
- Upgraded `pyobjc-framework-ScriptingBridge` from 6.1 to 6.2.1
- Upgraded `pyobjc-framework-SystemConfiguration` from 6.1 to 6.2.1
- Upgraded `pyqt5-sip` from 12.7.0 to 12.8.0
- Upgraded `pywin32` from 227 to 228
- Upgraded `requests` from 2.23.0 to 2.24.0
- Upgraded `sentry-sdk` from 0.14.3 to 0.15.1
- Upgraded `six` from 0.14.0 to 0.15.0
- Upgraded `tld` from 0.11.9 to 0.12.2
- Upgraded `urllib3` from 1.25.8 to 1.25.9
- Upgraded `watchdog` from 0.10.2 to 0.10.3
- Removed `rfc3987`
- Packaging: Add `requests` 2.24.0
- Packaging: Upgraded `pyyaml` from 5.1.2 to 5.3.1

## Technical Changes

- Added `Application.exit_app()`
- Added `USER_AGENT` in `constants.py`
- Added `EngineDAO.update_upload()`
- Added `NuxeoDocumentInfo.is_proxy`
- Added `DirectTransferUploader.get_document_by_uid()`
- Added `DirectTransferUploader.get_document_by_title()`
- Added `Remote.get_note()`
- Removed `Remote.direct_transfer()`. Use `DirectTransferUploader.upload()` instead.
- Removed `Remote.get_document_or_none()`. Use `DirectTransferUploader.get_document_or_none()` instead.
- Removed `Remote.link_blob_to_doc()`. Use `BaseUploader.link_blob_to_doc()` instead.
- Removed `Remote.upload_chunks()`. Use `BaseUploader.upload_chunks()` instead.
- Added utils.py::`disk_space()`
- Removed options.py::`handle_feat_direct_transfer()`
- Removed options.py::`handle_feat_direct_edit()`
- Removed options.py::`handle_feat_s3()`
- Removed options.py::`handle_feat_auto_update()`
- Added options.py::`CallableFeatureHandler`
- Added utils.py::`save_config()`
- Added utils.py::`config_paths()`
- Removed utils.py::`cmp()`. Use `nuxeo.utils.cmp()` instead.
- Removed utils.py::`version_compare()`. Use `nuxeo.utils.version_compare()` instead.
- Removed utils.py::`version_compare_client()`. Use `nuxeo.utils.version_compare_client()` instead.
- Removed utils.py::`version_le()`. Use `nuxeo.utils.version_le()` instead.
- Removed utils.py::`version_lt()`. Use `nuxeo.utils.version_lt()` instead.
- Added `Manager.get_feature_state()`
- Added `Manager.set_feature_state()`
- Added `QMLDriveApi.get_features_list()`
- Added features.py::`Beta`
- Added `state.py`
- Added client/uploader
- Removed `conf_name` keyword argument to `CLIHandler.load_config()`
- Removed engine/dao/sqlite.py::`str_to_path()`
- Changed order of elements returned by utils.py::`get_tree_list()`
